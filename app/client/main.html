<head>
	<title>EECS498 MeteorChat</title>
</head>

<body>
	{{> main }}
</body>

<template name="main">
	{{#if getCurrentUser}}
		{{> chat}}
	{{else}}
		{{> login}}
	{{/if}}
</template>

<template name="login">
	<h1>Welcome to MeteorChat!</h1>
	<h2>Login</h2>
	<form id="login-user">
		<input type="text" name="loginUser" placeholder="Enter username">
		<input type="submit" value="Login">
	</form>
	<div class="error" id="login-error">
		{{ getLoginError }}
	</div>
	<h2>Sign Up</h2>
	<form id="signup-user">
		<input type="text" name="signupUser" placeholder="Enter username">
		<input type="submit" value="Sign up">
	</form>
	<div class="error" id="signup-error">
		{{ getSignupError }}
	</div>
</template>

<template name="chat">
	<h2>Welcome {{ getCurrentUser }}!</h2>
	<div class="user-list">
		{{#if getNumChats}}
			{{#each getUsers}}
				<div>{{ username }}</div>
			{{/each}}
		{{else}}
			<span>Invite your friends to chat!</span>
		{{/if}}
	</div>
</template>
